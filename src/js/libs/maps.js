if (document.getElementById('contactsMap')) {
    const markers = [
        {
            coordinate: [27.62294616046451, 53.91147119117131]
        }
    ];

    async function initMap() {
        await ymaps3.ready;
        const { YMap, YMapDefaultSchemeLayer, YMapDefaultFeaturesLayer, YMapMarker } = ymaps3;
        const map = new YMap(document.getElementById('contactsMap'), {
            location: {
                center: [27.559646862734354, 53.901707367336755],
                zoom: 11
            },
            behaviors: ['drag']
        });
        map.addChild(new YMapDefaultSchemeLayer());
        map.addChild(new YMapDefaultFeaturesLayer({ zIndex: 1800 }));

        markers.forEach((el) => {
            let content = document.createElement('div');
            content.classList.add('marker', el.type);
            content.insertAdjacentHTML(
                'beforeend',
                `
										<svg width="162" height="102" viewBox="0 0 162 102" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <g filter="url(#filter0_f_2008_630)">
                    <ellipse cx="81.5" cy="83" rx="42.5" ry="5" fill="#001B30"/>
                    </g>
                    <rect width="161.943" height="71.665" fill="#004780"/>
                    <path d="M21.6161 33.5283C26.4406 26.129 35.9541 25.8123 40.7434 32.8022C42.2478 34.998 42.8514 37.7469 42.5137 40.9997C38.4559 40.9997 34.3873 40.9997 30.2151 40.9997C30.1234 40.5671 29.9802 40.1025 29.932 39.6274C29.716 37.495 30.1259 37.0223 32.1351 37.0223C32.8647 37.0222 33.5944 37.0223 34.3796 37.0223C34.2915 35.8443 33.7567 35.1124 32.7689 34.7565C31.7175 34.3777 30.73 34.5299 29.8619 35.2763C27.7894 37.0584 27.7289 41.7583 29.746 43.5972C30.9594 44.7034 32.206 44.5961 34.0357 43.1376C35.5381 45.0171 37.0469 46.9045 38.5531 48.7889C35.4305 52.3795 28.8193 52.6452 24.5496 49.3775C19.8903 45.8115 18.6248 39.1005 21.6161 33.5283Z" fill="white"/>
                    <path d="M46.7713 45.2402C43.7005 37.9741 46.911 30.2098 53.8396 28.2143C55.4009 27.7647 57.1053 27.8623 58.8396 27.699C58.8396 31.1016 58.8396 34.0999 58.8396 37.2584C57.6018 36.3636 56.4001 36.0939 55.199 37.0114C54.136 37.8234 53.6962 38.9463 53.8463 40.3182C54.0166 41.8739 55.2962 43.1394 56.782 43.226C58.3817 43.3192 59.5156 42.475 59.8639 40.7945C60.045 39.9207 60.1086 39.0053 60.1117 38.1083C60.1324 32.1039 60.1225 26.0993 60.1225 20C62.8373 20 65.4867 20 68.2299 20C68.2588 20.236 68.3265 20.5322 68.3268 20.8285C68.333 26.7935 68.365 32.7588 68.32 38.7234C68.2887 42.8573 67.2694 46.5986 63.9183 49.2037C58.2028 53.6469 50.6693 51.9256 46.7713 45.2402Z" fill="white"/>
                    <path d="M81.9659 43.1999C82.9041 43.1266 83.7404 43.0277 84.6007 42.9259C84.6007 45.6419 84.6007 48.4742 84.6007 51.426C81.5927 52.0588 78.8453 51.4192 76.3618 49.7006C71.9229 46.6289 70.1739 40.5095 72.1508 35.3306C74.1694 30.0424 79.4055 26.9569 84.7257 27.9203C90.7781 29.0163 94.1382 33.1704 94.16 39.6086C94.1728 43.3935 94.1623 47.1784 94.1623 51.041C91.4252 51.041 88.7813 51.041 85.9946 51.041C85.9946 48.3624 85.9978 45.7106 85.993 43.0588C85.9912 42.0656 86.0088 41.07 85.9509 40.0798C85.8261 37.945 84.7523 36.6012 83.1301 36.4769C81.6665 36.3648 80.2065 37.4382 79.7992 38.9258C79.3008 40.7459 80.0632 42.3146 81.9659 43.1999Z" fill="white"/>
                    <path d="M105.333 50.1021C105.333 50.6817 105.333 51.1289 105.333 51.6649C102.627 51.6649 99.978 51.6649 97.1691 51.6649C97.1691 50.5733 97.1631 49.4581 97.1702 48.3431C97.1921 44.9104 97.1056 41.4718 97.268 38.0463C97.5912 31.2288 102.65 27.2943 109.051 28.8088C109.051 31.72 109.051 34.6451 109.051 37.6811C108.728 37.5951 108.456 37.5151 108.18 37.4506C106.904 37.1516 105.97 37.6827 105.609 39.0251C105.424 39.7092 105.351 40.4454 105.344 41.1593C105.316 44.0958 105.333 47.0329 105.333 50.1021Z" fill="white"/>
                    <path d="M112.051 42.4434C112.089 40.3224 112.001 38.3233 112.194 36.3545C112.546 32.7627 114.434 30.2249 117.613 28.9139C120.807 27.5974 123.679 28.4678 126.209 30.7853C126.467 31.021 126.717 31.2655 127.002 31.5364C127.694 30.9807 128.339 30.4033 129.038 29.9102C134.192 26.2739 140.83 29.2793 141.648 35.7303C141.981 38.3549 141.881 41.0435 141.922 43.7039C141.962 46.3124 141.931 48.9221 141.931 51.6113C141.577 51.6336 141.33 51.6623 141.083 51.6627C138.679 51.6661 136.274 51.6647 133.721 51.6647C133.721 49.4172 133.721 47.2643 133.721 45.1114C133.721 42.9877 133.743 40.8637 133.709 38.7406C133.695 37.8442 133.711 36.7669 132.473 36.7752C131.315 36.7831 131.139 37.813 131.129 38.7145C131.084 42.7353 131.103 46.7569 131.1 50.7782C131.099 51.0029 131.1 51.2275 131.1 51.5585C128.389 51.5585 125.711 51.5585 122.906 51.5585C122.906 48.702 122.911 45.8668 122.905 43.0316C122.902 41.4959 122.903 39.9594 122.86 38.4247C122.837 37.6242 122.662 36.8309 121.702 36.7657C120.665 36.6953 120.439 37.5337 120.303 38.3578C120.222 38.8423 120.246 39.3481 120.246 39.8444C120.242 43.7246 120.244 47.6048 120.244 51.5748C117.531 51.5748 114.881 51.5748 112.051 51.5748C112.051 48.5975 112.051 45.5883 112.051 42.4434Z" fill="white"/>
                    <path d="M80.9713 82.665L67.9713 71.665L93.9713 71.665L80.9713 82.665Z" fill="#004780"/>
                    <defs>
                    <filter id="filter0_f_2008_630" x="25" y="64" width="113" height="38" filterUnits="userSpaceOnUse" color-interpolation-filters="sRGB">
                    <feFlood flood-opacity="0" result="BackgroundImageFix"/>
                    <feBlend mode="normal" in="SourceGraphic" in2="BackgroundImageFix" result="shape"/>
                    <feGaussianBlur stdDeviation="7" result="effect1_foregroundBlur_2008_630"/>
                    </filter>
                    </defs>
                    </svg>
                  `
            );
            const marker = new YMapMarker({ coordinates: el.coordinate, draggable: false }, content);
            map.addChild(marker);
        });
    }
    initMap();
}
